#
# Example: deploy an ElasticSearch cluster
#
# This example covers the installation of a 2-node ElasticSearch cluster
# (1 master node and 2 data nodes).  Configuration is *incomplete* and
# needs to be complemented with a suitable `cloud` section.
#
# For more details about the configuration, see:
# http://elasticluster.readthedocs.io/en/latest/configure.html
#

# the `setup` section defines what software is installed
# on each class of nodes
[setup/elasticsearch]
master_groups=elasticsearch_master
data_groups=elasticsearch_data


# the `login` section collects information about how to log-in to VMs, including
# SSH key to use for connections -- it can (and should) be shared across clusters
[login/ubuntu]
image_user=ubuntu
image_user_sudo=root
image_sudo=True
user_key_name=elasticluster
user_key_private=~/.ssh/id_rsa
user_key_public=~/.ssh/id_rsa.pub


[cluster/elasticsearch-on-ubuntu16]
setup=elasticsearch

master_nodes=1
data_nodes=2

# this is cloud-specific info (using OpenStack for the example)
cloud=science-cloud
flavor=4cpu-16ram-hpc
network_ids=c86b320c-9542-4032-a951-c8a068894cc2
security_group=default

# Ubuntu 16.04 (cloud-specific ID)
image_id=33067fd8-6868-4659-9a3d-844c6f8e73a0

# `login` info is -largely- image-specific
login=ubuntu
