---


- name: Install Zookeeper packages
  tags:
    - zookeeper
  package:
    name='{{item}}'
    state=present
  with_items:
    - zookeeper
    - zookeeperd


- name: Deploy Zookeeper/ElastiCluster configuration files
  tags:
    - zookeeper
  template:
    src='{{item}}.j2'
    dest='{{zookeeper_conf_dir}}/{{item}}'
  with_items:
    - zoo.cfg
    - myid


- name: Start Zookeeper services
  tags:
    - zookeeper
  service:
    name="{{item}}"
    state=started
    enabled=yes
  with_items:
    - zookeeper
